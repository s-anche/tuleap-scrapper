import{d as N,k as E,g as i,I as b,y as l,C as e,B as t,z as o,x as u,J as y,D as c,A as d,K,L as D,M as j,N as I,O as M,P as O,Q as C}from"./CTSJwtqj.js";import{_ as T}from"./DlAUqK2U.js";const A={class:"d-flex align-center flex-grow-1 mr-3"},P={key:0,class:"text-h6"},U={class:"text-h6 font-weight-medium text-wrap"},H={key:0,class:"text-body-2 text-grey-darken-1 mt-1"},R={class:"info-section"},F={class:"text-body-2"},G={key:1,class:"text-grey-darken-1"},J={class:"info-section"},Q={class:"text-body-2"},W={key:0,class:"d-flex gap-1"},q={key:1,class:"text-grey-darken-1"},X={class:"info-section"},Y={class:"text-body-2"},Z={class:"info-section"},ee={class:"text-body-2"},te={key:1,class:"text-grey-darken-1"},se={class:"pa-3"},oe=["innerHTML"],ne=N({__name:"EpicCard",props:{epic:{}},setup($){const m=$,k=E(()=>{switch(m.epic.status?.toLowerCase()){case"development in progress":return"warning";case"done":return"success";case"to do":return"info";case"cancelled":return"error";default:return"primary"}}),h=a=>new Date(a).toLocaleDateString(),v=E(()=>m.epic.links?m.epic.links.features.length+m.epic.links.stories.length+m.epic.links.tasks.length+m.epic.links.defects.length:0);return(a,n)=>{const _=i("v-chip"),f=i("v-card-title"),s=i("v-card-subtitle"),r=i("v-col"),x=i("v-row"),g=i("v-card-text"),p=i("v-icon"),z=i("v-btn"),L=i("v-tooltip"),w=i("v-spacer"),S=i("v-card-actions"),B=i("v-card");return l(),b(B,{class:"epic-card h-100",elevation:"2",hover:"",to:`/epic/${a.epic.id}`},{default:e(()=>[t(f,{class:"d-flex align-center pa-4 pb-2"},{default:e(()=>[o("div",A,[t(_,{class:"mr-3",variant:"flat",size:"small",color:k.value},{default:e(()=>[c(d(a.epic.status),1)]),_:1},8,["color"]),t(_,{variant:"tonal",size:"small",color:"primary"},{default:e(()=>[c(" #"+d(a.epic.id),1)]),_:1})]),a.epic.project.icon?(l(),u("div",P,d(a.epic.project.icon),1)):y("",!0)]),_:1}),t(s,{class:"pa-4 pt-0"},{default:e(()=>[o("div",U,d(a.epic.title),1),a.epic.project.label?(l(),u("div",H,d(a.epic.project.label),1)):y("",!0)]),_:1}),t(g,{class:"pa-4 pt-2"},{default:e(()=>[t(x,{dense:""},{default:e(()=>[t(r,{cols:"12",lg:"6"},{default:e(()=>[o("div",R,[n[2]||(n[2]=o("div",{class:"text-overline mb-1"},"Leading Team",-1)),o("div",F,[a.epic.leadTeam?(l(),b(_,{key:0,variant:"tonal",size:"small",color:"success",class:"text-caption"},{default:e(()=>[c(d(a.epic.leadTeam),1)]),_:1})):(l(),u("span",G,"Not assigned"))])])]),_:1}),t(r,{cols:"12",lg:"6"},{default:e(()=>[o("div",J,[n[3]||(n[3]=o("div",{class:"text-overline mb-1"},"Estimation",-1)),o("div",Q,[a.epic.estimation||a.epic.remainingEffort?(l(),u("div",W,[a.epic.estimation?(l(),b(_,{key:0,variant:"tonal",size:"small",color:"info",class:"text-caption"},{default:e(()=>[c(d(a.epic.estimation)+" pts ",1)]),_:1})):y("",!0),a.epic.remainingEffort?(l(),b(_,{key:1,variant:"tonal",size:"small",color:"warning",class:"text-caption"},{default:e(()=>[c(d(a.epic.remainingEffort)+" remaining ",1)]),_:1})):y("",!0)])):(l(),u("span",q,"Not estimated"))])])]),_:1}),t(r,{cols:"12",lg:"6"},{default:e(()=>[o("div",X,[n[4]||(n[4]=o("div",{class:"text-overline mb-1"},"Last Updated",-1)),o("div",Y,d(h(a.epic.lastUpdateDate)),1)])]),_:1}),t(r,{cols:"12",lg:"6"},{default:e(()=>[o("div",Z,[n[5]||(n[5]=o("div",{class:"text-overline mb-1"},"Related Artifacts",-1)),o("div",ee,[v.value>0?(l(),b(_,{key:0,variant:"tonal",size:"small",color:"secondary",class:"text-caption"},{default:e(()=>[c(d(v.value)+" linked ",1)]),_:1})):(l(),u("span",te,"None linked"))])])]),_:1})]),_:1})]),_:1}),t(S,{class:"pa-4 pt-0"},{default:e(()=>[a.epic.summary?(l(),b(L,{key:0,location:"top","max-width":"500"},{activator:e(({props:V})=>[t(z,K(V,{variant:"text",size:"small",color:"primary",onClick:n[0]||(n[0]=D(()=>{},["stop"]))}),{default:e(()=>[t(p,{left:""},{default:e(()=>n[6]||(n[6]=[c("mdi-information-outline")])),_:1,__:[6]}),n[7]||(n[7]=c(" Summary "))]),_:2,__:[7]},1040)]),default:e(()=>[o("div",se,[n[8]||(n[8]=o("div",{class:"text-subtitle-2 mb-2"},"Epic Summary",-1)),o("div",{class:"text-body-2 summary-tooltip",innerHTML:a.epic.summary},null,8,oe)])]),_:1})):y("",!0),t(w),t(z,{variant:"outlined",size:"small",href:a.epic.htmlUrl,target:"_blank",rel:"noopener noreferrer",color:"primary",onClick:n[1]||(n[1]=D(()=>{},["stop"]))},{default:e(()=>[t(p,{left:""},{default:e(()=>n[9]||(n[9]=[c("mdi-open-in-new")])),_:1,__:[9]}),n[10]||(n[10]=c(" View in Tuleap "))]),_:1,__:[10]},8,["href"])]),_:1})]),_:1},8,["to"])}}}),ae=Object.assign(T(ne,[["__scopeId","data-v-753786ca"]]),{__name:"EpicCard"}),ie={class:"kanban-column"},le={class:"text-h6"},re={class:"d-flex flex-column ga-2"},ce={key:0,class:"text-center py-8"},de={class:"text-body-2 text-medium-emphasis"},pe=N({__name:"KanbanColumn",props:{title:{},status:{},epics:{},color:{default:"primary"}},setup($){const m=$,k=E(()=>{switch(m.status.toLowerCase()){case"to do":return"mdi-clipboard-text-outline";case"development in progress":return"mdi-progress-wrench";case"done":return"mdi-check-circle";case"cancelled":return"mdi-cancel";default:return"mdi-clipboard-list"}}),h=E(()=>{switch(m.status.toLowerCase()){case"to do":return"info";case"development in progress":return"warning";case"done":return"success";case"cancelled":return"error";default:return"primary"}});return(v,a)=>{const n=i("v-icon"),_=i("v-spacer"),f=i("v-chip"),s=i("v-card-title"),r=i("v-divider"),x=i("v-card-text"),g=i("v-card");return l(),u("div",ie,[t(g,{class:"h-100 d-flex flex-column",variant:"outlined",color:h.value},{default:e(()=>[t(s,{class:"d-flex align-center pa-4 pb-2"},{default:e(()=>[t(n,{color:h.value,class:"mr-2"},{default:e(()=>[c(d(k.value),1)]),_:1},8,["color"]),o("span",le,d(v.title),1),t(_),t(f,{color:h.value,variant:"tonal",size:"small",class:"text-caption"},{default:e(()=>[c(d(v.epics.length),1)]),_:1},8,["color"])]),_:1}),t(r),t(x,{class:"flex-grow-1 pa-2",style:{"max-height":"calc(100vh - 200px)","overflow-y":"auto"}},{default:e(()=>[o("div",re,[(l(!0),u(j,null,I(v.epics,p=>(l(),u("div",{key:p.id,class:"kanban-card"},[t(ae,{epic:p},null,8,["epic"])]))),128))]),v.epics.length===0?(l(),u("div",ce,[t(n,{color:h.value,size:"48",class:"mb-2"},{default:e(()=>[c(d(k.value),1)]),_:1},8,["color"]),o("p",de," No epics in "+d(v.title.toLowerCase()),1)])):y("",!0)]),_:1})]),_:1},8,["color"])])}}}),ue=Object.assign(T(pe,[["__scopeId","data-v-ee046431"]]),{__name:"KanbanColumn"}),_e={class:"pa-4 bg-grey-lighten-4",style:{width:"100%","min-height":"100vh"}},me={key:0,class:"mb-4"},ve={class:"d-flex align-center mb-2"},fe={key:1,class:"kanban-board"},ge={class:"d-flex ga-4 align-start",style:{"overflow-x":"auto","min-height":"70vh"}},ye=N({__name:"index",setup($){const m=M(),{epics:k,loading:h,error:v}=O(m),a=E(()=>{const f={};return k.value.forEach(s=>{const r=s.status||"No Status";f[r]||(f[r]=[]),f[r].push(s)}),f}),n=E(()=>{const f=a.value,s=[];for(const[r,x]of Object.entries(f))if(x.length>0){let g="primary";const p=r.toLowerCase();p.includes("progress")||p.includes("development")?g="warning":p.includes("done")||p.includes("closed")?g="success":p.includes("cancel")?g="error":(p.includes("todo")||p.includes("new"))&&(g="info"),s.push({title:r,status:r,color:g})}return s}),_=E(()=>k.value.length);return(f,s)=>{const r=i("v-icon"),x=i("v-spacer"),g=i("v-chip"),p=i("v-progress-circular"),z=i("v-col"),L=i("v-row");return l(),u("div",_e,[_.value>0?(l(),u("div",me,[o("div",ve,[t(r,{class:"mr-2",size:"large"},{default:e(()=>s[0]||(s[0]=[c("mdi-view-column")])),_:1,__:[0]}),s[1]||(s[1]=o("h2",{class:"text-h4"},"Epic Board",-1)),t(x),t(g,{color:"primary",variant:"tonal",size:"large",class:"text-subtitle-1"},{default:e(()=>[c(d(_.value)+" Epic"+d(_.value>1?"s":""),1)]),_:1})])])):y("",!0),_.value>0?(l(),u("div",fe,[o("div",ge,[(l(!0),u(j,null,I(n.value,w=>(l(),b(ue,{key:w.status,title:w.title,status:w.status,epics:a.value[w.status],color:w.color},null,8,["title","status","epics","color"]))),128))])])):y("",!0),C(h)?(l(),b(L,{key:2},{default:e(()=>[t(z,{cols:"12",class:"text-center py-12"},{default:e(()=>[t(p,{indeterminate:"",color:"primary",size:"64"}),s[2]||(s[2]=o("p",{class:"text-h6 mt-4"},"Loading epics...",-1))]),_:1,__:[2]})]),_:1})):y("",!0),!C(h)&&C(k).length===0&&C(v)?(l(),b(L,{key:3},{default:e(()=>[t(z,{cols:"12",class:"text-center py-12"},{default:e(()=>[t(r,{size:"64",color:"grey-lighten-2"},{default:e(()=>s[3]||(s[3]=[c("mdi-clipboard-outline")])),_:1,__:[3]}),s[4]||(s[4]=o("p",{class:"text-h6 mt-4"},"No epics found",-1)),s[5]||(s[5]=o("p",{class:"text-body-1"},"Please check your Epic IDs and try again.",-1))]),_:1,__:[4,5]})]),_:1})):y("",!0),!C(h)&&C(k).length===0&&!C(v)?(l(),b(L,{key:4},{default:e(()=>[t(z,{cols:"12",class:"text-center py-12"},{default:e(()=>[t(r,{size:"64",color:"primary"},{default:e(()=>s[6]||(s[6]=[c("mdi-information-outline")])),_:1,__:[6]}),s[7]||(s[7]=o("p",{class:"text-h6 mt-4"},"Welcome to Epic Tracker",-1)),s[8]||(s[8]=o("p",{class:"text-body-1"},"Enter Epic IDs in the sidebar to get started",-1))]),_:1,__:[7,8]})]),_:1})):y("",!0)])}}}),ke=T(ye,[["__scopeId","data-v-c897b27e"]]);export{ke as default};
