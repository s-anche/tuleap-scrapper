import{d as v,R as A,r as i,g as e,I as B,y as m,C as n,B as t,L as P,D as u,A as C,q as j,x as q,z as _}from"./CTSJwtqj.js";const z=v({__name:"TokenInput",setup(p){const d=A(),o=i(""),a=i(!1),s=i(""),c=async()=>{if(!o.value.trim()){s.value="Token is required";return}a.value=!0,s.value="";try{await new Promise(l=>setTimeout(l,500)),o.value.trim().length>0?(d.setToken(o.value),await j("/")):s.value="Token cannot be empty"}catch{s.value="Failed to validate token. Please try again."}finally{a.value=!1}};return(l,r)=>{const f=e("v-text-field"),g=e("v-card-text"),h=e("v-spacer"),k=e("v-icon"),y=e("v-btn"),x=e("v-card-actions"),T=e("v-form"),b=e("v-card"),w=e("v-col"),I=e("v-row"),V=e("v-container");return m(),B(V,{class:"fill-height",fluid:""},{default:n(()=>[t(I,{align:"center",justify:"center"},{default:n(()=>[t(w,{cols:"12",sm:"6",md:"4"},{default:n(()=>[t(b,{elevation:"8",class:"pa-4"},{default:n(()=>[t(T,{onSubmit:P(c,["prevent"])},{default:n(()=>[t(g,null,{default:n(()=>[t(f,{modelValue:o.value,"onUpdate:modelValue":r[0]||(r[0]=S=>o.value=S),label:"Tuleap API Token",type:"password",placeholder:"Enter your Tuleap API token",required:"","prepend-icon":"mdi-key",variant:"outlined","error-messages":s.value},null,8,["modelValue","error-messages"])]),_:1}),t(x,null,{default:n(()=>[t(h),t(y,{type:"submit",loading:a.value,disabled:a.value,color:"primary",variant:"elevated",size:"large"},{default:n(()=>[t(k,{start:""},{default:n(()=>r[1]||(r[1]=[u("mdi-login")])),_:1,__:[1]}),u(" "+C(a.value?"Validating...":"Save Token"),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),E=Object.assign(z,{__name:"TokenInput"}),N={class:"fill-height"},D={class:"login-header"},L=v({__name:"login",setup(p){return(d,o)=>{const a=e("v-icon"),s=e("v-col"),c=e("v-row"),l=e("v-container");return m(),q("div",N,[t(l,{class:"fill-height",fluid:""},{default:n(()=>[t(c,{align:"center",justify:"center"},{default:n(()=>[t(s,{cols:"12",class:"text-center mb-8"},{default:n(()=>[_("div",D,[t(a,{size:"64",color:"primary",class:"mb-4"},{default:n(()=>o[0]||(o[0]=[u("mdi-chart-line")])),_:1,__:[0]}),o[1]||(o[1]=_("h1",{class:"text-h3 text-primary font-weight-light mb-2"},"Tuleap Tracker",-1)),o[2]||(o[2]=_("p",{class:"text-h6 text-medium-emphasis"},"Enter your API token to access the dashboard",-1))])]),_:1})]),_:1}),t(E)]),_:1})])}}});export{L as default};
